(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,t)=>{a.exports=e.r(76562)},88760,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(7471),s=e.i(18566),i=e.i(75254);let d=(0,i.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),n=(0,i.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),o=(0,i.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),c=(0,i.default)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);function m({children:e}){let i=(0,s.useRouter)(),m=(0,s.usePathname)(),[l,h]=(0,t.useState)(!0),[u,x]=(0,t.useState)(!1),[p,y]=(0,t.useState)(""),g="/admin/login"===m||"/admin/login/"===m;(0,t.useEffect)(()=>{!async function(){h(!0);let{data:{session:e}}=await r.supabase.auth.getSession();if(g){if(e){window.location.href="/admin/dashboard";return}x(!0),h(!1)}else e?(y(e.user.email||"Admin"),x(!0),h(!1)):window.location.replace("/admin/login")}()},[m,i,g]);let f=async()=>{await r.supabase.auth.signOut(),window.location.href="/admin/login"};return l||!u?(0,a.jsx)("div",{className:"h-screen flex items-center justify-center bg-background text-foreground",children:"Verificando sesión..."}):g?(0,a.jsx)(a.Fragment,{children:e}):(0,a.jsxs)("div",{className:"min-h-screen grid grid-cols-[240px_1fr]",children:[(0,a.jsxs)("aside",{className:"border-r bg-muted/10 p-4 flex flex-col h-screen sticky top-0",children:[(0,a.jsx)("div",{className:"font-bold text-xl mb-2 px-2 text-primary",children:"Panel Admin"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground px-2 mb-6 break-all",children:p}),(0,a.jsxs)("nav",{className:"space-y-1 flex-1",children:[(0,a.jsxs)("a",{href:"/admin/dashboard",className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${"/admin/dashboard"===m?"bg-primary/10 text-primary font-medium":"hover:bg-muted"}`,children:[(0,a.jsx)(d,{className:"h-4 w-4"}),"Dashboard"]}),(0,a.jsxs)("a",{href:"/admin/stock",className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${"/admin/stock"===m?"bg-primary/10 text-primary font-medium":"hover:bg-muted"}`,children:[(0,a.jsx)(n,{className:"h-4 w-4"}),"Control Stock"]}),(0,a.jsxs)("a",{href:"/admin/products",className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${m.startsWith("/admin/products")&&"/admin/products/new"!==m?"bg-primary/10 text-primary font-medium":"hover:bg-muted"}`,children:[(0,a.jsx)(n,{className:"h-4 w-4"}),"Publicaciones"]}),(0,a.jsxs)("a",{href:"/admin/products/new",className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${"/admin/products/new"===m?"bg-primary/10 text-primary font-medium":"hover:bg-muted"}`,children:[(0,a.jsx)(c,{className:"h-4 w-4"}),"Nuevo Producto"]}),(0,a.jsx)("div",{className:"pt-4 pb-2 text-xs font-semibold text-muted-foreground px-3",children:"Configuración"}),(0,a.jsx)("a",{href:"/admin/categories",className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${m.startsWith("/admin/categories")?"bg-primary/10 text-primary font-medium":"hover:bg-muted"}`,children:"Categorías"}),(0,a.jsx)("a",{href:"/admin/brands",className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${m.startsWith("/admin/brands")?"bg-primary/10 text-primary font-medium":"hover:bg-muted"}`,children:"Marcas"})]}),(0,a.jsxs)("button",{onClick:f,className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-destructive/10 text-destructive transition-colors mt-auto",children:[(0,a.jsx)(o,{className:"h-4 w-4"}),"Cerrar Sesión"]})]}),(0,a.jsx)("main",{className:"p-8 overflow-y-auto",children:e})]})}e.s(["default",()=>m],88760)}]);