(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},97195,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(7471);let r=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var d=e.i(27612),i=e.i(7233);function c(){let[e,c]=(0,s.useState)([]),[l,n]=(0,s.useState)(!0);async function o(){let{data:e,error:t}=await a.supabase.from("products").select("*, categories(name), brands(name)").order("priority",{ascending:!1}).order("created_at",{ascending:!1});e&&c(e),n(!1)}(0,s.useEffect)(()=>{o()},[]);let m=async t=>{if(!confirm("¿Estás seguro de eliminar este producto?"))return;let{error:s}=await a.supabase.from("products").delete().eq("id",t);s?alert("Error al eliminar"):c(e.filter(e=>e.id!==t))};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Publicaciones"}),(0,t.jsxs)("a",{href:"/admin/products/new",className:"btn btn-primary gap-2 flex items-center px-4 py-2 rounded-md bg-primary text-primary-foreground hover:bg-primary/90",children:[(0,t.jsx)(i.Plus,{className:"h-4 w-4"}),"Nueva Publicación"]})]}),(0,t.jsx)("div",{className:"bg-card rounded-lg border shadow-sm overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,t.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4 font-medium",children:"Prioridad"}),(0,t.jsx)("th",{className:"p-4 font-medium",children:"Nombre"}),(0,t.jsx)("th",{className:"p-4 font-medium",children:"Categoría"}),(0,t.jsx)("th",{className:"p-4 font-medium",children:"Marca"}),(0,t.jsx)("th",{className:"p-4 font-medium",children:"Precio"}),(0,t.jsx)("th",{className:"p-4 font-medium text-right",children:"Acciones"})]})}),(0,t.jsx)("tbody",{children:l?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"p-8 text-center",children:"Cargando..."})}):0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:"No hay productos."})}):e.map(e=>(0,t.jsxs)("tr",{className:"border-b last:border-0 hover:bg-muted/10",children:[(0,t.jsx)("td",{className:"p-4 font-medium text-muted-foreground",children:e.priority||0}),(0,t.jsx)("td",{className:"p-4 font-medium",children:e.name}),(0,t.jsx)("td",{className:"p-4 text-muted-foreground",children:e.categories?.name||"-"}),(0,t.jsx)("td",{className:"p-4 text-muted-foreground",children:e.brands?.name||"-"}),(0,t.jsxs)("td",{className:"p-4",children:["$",e.price.toLocaleString("es-AR")]}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("a",{href:`/admin/products/edit?id=${e.id}`,className:"p-2 hover:bg-muted rounded text-foreground",children:(0,t.jsx)(r,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>m(e.id),className:"p-2 hover:bg-destructive/10 text-destructive rounded",children:(0,t.jsx)(d.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})}e.s(["default",()=>c],97195)},18977,e=>{e.n(e.i(97195))}]);