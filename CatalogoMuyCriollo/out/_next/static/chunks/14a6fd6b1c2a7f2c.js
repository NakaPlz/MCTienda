(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,t)=>{r.exports=e.r(76562)},55436,e=>{"use strict";let r=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>r],55436)},63059,e=>{"use strict";let r=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>r],63059)},64659,e=>{"use strict";let r=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>r],64659)},19272,e=>{"use strict";var r=e.i(43476),t=e.i(22016),s=e.i(71645);let a=(0,e.i(75254).default)("image-off",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);function n({fallbackSrc:e="/placeholder.png",src:t,alt:n,className:i,...l}){let[o,c]=(0,s.useState)(!1);return o||!t?(0,r.jsx)("div",{className:`flex items-center justify-center bg-muted text-muted-foreground ${i}`,children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 text-xs p-2 text-center",children:[(0,r.jsx)(a,{className:"h-6 w-6 opacity-50"}),(0,r.jsx)("span",{children:"Sin imagen"})]})}):(0,r.jsx)("img",{src:t,alt:n,className:i,onError:()=>c(!0),...l})}function i({product:e}){let s=e.product_images?.[0]?.url;return(0,r.jsx)(t.default,{href:`/product?id=${e.id}`,className:"group block",children:(0,r.jsxs)("div",{className:"bg-card text-card-foreground rounded-lg shadow-sm border border-border overflow-hidden transition-all duration-300 hover:shadow-md hover:border-primary/50",children:[(0,r.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[(0,r.jsx)(n,{src:s,alt:e.name,className:"object-cover w-full h-full transition-transform duration-500 group-hover:scale-105"}),(0,r.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:[e.is_new&&(0,r.jsx)("span",{className:"bg-emerald-500 text-white text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded",children:"Nuevo"}),e.is_on_sale&&(0,r.jsx)("span",{className:"bg-red-500 text-white text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded",children:"Oferta"})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"mb-1 text-xs text-primary uppercase tracking-wider font-medium",children:e.categories?.name||"Varios"}),(0,r.jsx)("h3",{className:"font-medium text-base leading-tight mb-3 group-hover:text-primary transition-colors line-clamp-2",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.is_on_sale&&e.original_price&&(0,r.jsxs)("span",{className:"text-sm text-muted-foreground line-through",children:["$",e.original_price.toLocaleString("es-AR")]}),(0,r.jsxs)("span",{className:"font-bold text-lg",children:["$",e.price.toLocaleString("es-AR")]})]}),e.brands?.name&&(0,r.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:e.brands.name})]})]})})}e.s(["ProductCard",()=>i],19272)},86970,e=>{"use strict";var r=e.i(43476),t=e.i(7471),s=e.i(19272),a=e.i(22016);function n(){return(0,r.jsxs)("section",{className:"relative bg-gradient-to-b from-[#1a1a1a] to-[#0d0d0d] py-20 md:py-28",children:[(0,r.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--primary)_1px,_transparent_1px)] bg-[length:20px_20px]"})}),(0,r.jsxs)("div",{className:"container relative z-10 text-center",children:[(0,r.jsx)("p",{className:"text-primary font-medium italic tracking-wide mb-4",children:"Tradición y Elegancia"}),(0,r.jsxs)("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight mb-6",children:["Artesanía Regional",(0,r.jsx)("br",{}),"Hecha con Pasión"]}),(0,r.jsx)("p",{className:"text-muted-foreground max-w-xl mx-auto mb-10 text-sm md:text-base",children:"Descubra nuestra selección exclusiva de productos elaborados por manos expertas."}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,r.jsx)(a.default,{href:"#productos",className:"btn btn-primary px-8 py-3 text-sm uppercase tracking-wider font-semibold",children:"Ver Colección"}),(0,r.jsx)("button",{className:"btn btn-outline border-white/30 text-white hover:bg-white/10 px-8 py-3 text-sm uppercase tracking-wider font-semibold",disabled:!0,children:"Nuestra Historia"})]})]})]})}let i=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var l=e.i(63059);function o({currentPage:e,totalPages:t,onPageChange:s}){if(t<=1)return null;let a=(()=>{let r=[];if(t<=5)for(let e=1;e<=t;e++)r.push(e);else{r.push(1),e>3&&r.push("...");let s=Math.max(2,e-1),a=Math.min(t-1,e+1);for(let e=s;e<=a;e++)r.includes(e)||r.push(e);e<t-2&&r.push("..."),r.includes(t)||r.push(t)}return r})();return(0,r.jsxs)("nav",{className:"flex items-center justify-center gap-1 mt-12",children:[(0,r.jsx)("button",{onClick:()=>s(e-1),disabled:1===e,className:"p-2 rounded border border-border hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Página anterior",children:(0,r.jsx)(i,{className:"h-4 w-4"})}),a.map((t,a)=>(0,r.jsx)("button",{onClick:()=>"number"==typeof t&&s(t),disabled:"..."===t,className:`min-w-[36px] h-9 px-3 rounded border text-sm font-medium transition-colors ${t===e?"bg-primary text-primary-foreground border-primary":"..."===t?"border-transparent cursor-default":"border-border hover:bg-muted"}`,children:t},a)),(0,r.jsx)("button",{onClick:()=>s(e+1),disabled:e===t,className:"p-2 rounded border border-border hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Página siguiente",children:(0,r.jsx)(l.ChevronRight,{className:"h-4 w-4"})})]})}var c=e.i(71645),d=e.i(18566),u=e.i(55436),m=e.i(64659);let x={sombreros:"Sombreros",cuchilleria:"Cuchillería",talabarteria:"Talabartería"};function p(){let e=(0,d.useRouter)(),a=(0,d.useSearchParams)(),[i,l]=(0,c.useState)([]),[p,h]=(0,c.useState)(!0),g=a.get("category"),b=parseInt(a.get("page")||"1",10),[f,j]=(0,c.useState)(""),[v,y]=(0,c.useState)("all"),[N,w]=(0,c.useState)("newest"),[k,_]=(0,c.useState)(b);(0,c.useEffect)(()=>{if(g&&x[g]){let e=x[g],r=i.find(r=>r.categories?.name===e)?.categories;r&&y(r.id)}else y("all")},[g,i]),(0,c.useEffect)(()=>{_(b)},[b]);let C=(0,c.useMemo)(()=>{let e=new Map;return i.forEach(r=>{r.categories&&e.set(r.categories.id,r.categories.name)}),Array.from(e.entries())},[i]);(0,c.useEffect)(()=>{!async function(){let{data:e,error:r}=await t.supabase.from("products").select(`
          *,
          categories (id, name, slug),
          brands (id, name),
          product_images (url, display_order)
        `).eq("active",!0).order("created_at",{ascending:!1});r?console.error("Error fetching products:",r):e&&l(e),h(!1)}()},[]);let S=i.filter(e=>{let r=e.name.toLowerCase().includes(f.toLowerCase()),t="all"===v||e.categories?.id===v;return r&&t}).sort((e,r)=>{switch(N){case"price_asc":return e.price-r.price;case"price_desc":return r.price-e.price;case"name_asc":return e.name.localeCompare(r.name);default:let t=e.priority||0,s=r.priority||0;if(t!==s)return s-t;return new Date(r.created_at).getTime()-new Date(e.created_at).getTime()}}),P=S.length,M=Math.ceil(P/9),R=(k-1)*9,T=S.slice(R,R+9),A=r=>{y(r),_(1);let t=new URLSearchParams;if("all"!==r){let e=C.find(([e])=>e===r)?.[1];if(e){let r=Object.entries(x).find(([,r])=>r===e)?.[0];r&&t.set("category",r)}}let s=t.toString()?`/?${t.toString()}`:"/";e.push(s,{scroll:!1})};return p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{}),(0,r.jsx)("div",{className:"container py-10 text-center",children:(0,r.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,r.jsx)("div",{className:"h-8 bg-muted rounded w-1/3 mx-auto"}),(0,r.jsx)("div",{className:"h-4 bg-muted rounded w-1/2 mx-auto"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[1,2,3,4,5,6].map(e=>(0,r.jsx)("div",{className:"aspect-square bg-muted rounded-lg"},e))})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{}),(0,r.jsxs)("section",{className:"container py-10",children:[(0,r.jsxs)("div",{className:"mb-10 text-center space-y-2",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Nuestros Productos"}),(0,r.jsx)("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explora nuestra selección exclusiva de productos regionales, elaborados con pasión y tradición."})]}),(0,r.jsx)("div",{className:"mb-8 p-4 bg-card text-card-foreground rounded-lg border shadow-sm",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar productos...",className:"w-full pl-9 pr-4 py-2 rounded-md border bg-background text-foreground focus:ring-1 focus:ring-primary outline-none",value:f,onChange:e=>j(e.target.value)})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{className:"appearance-none px-4 py-2 pr-10 rounded-md border bg-background text-foreground outline-none focus:ring-1 focus:ring-primary cursor-pointer",value:v,onChange:e=>A(e.target.value),children:[(0,r.jsx)("option",{value:"all",children:"Todas las Categorías"}),C.map(([e,t])=>(0,r.jsx)("option",{value:e,children:t},e))]}),(0,r.jsx)(m.ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{className:"appearance-none px-4 py-2 pr-10 rounded-md border bg-background text-foreground outline-none focus:ring-1 focus:ring-primary cursor-pointer",value:N,onChange:e=>w(e.target.value),children:[(0,r.jsx)("option",{value:"newest",children:"Más Recientes"}),(0,r.jsx)("option",{value:"price_asc",children:"Menor Precio"}),(0,r.jsx)("option",{value:"price_desc",children:"Mayor Precio"}),(0,r.jsx)("option",{value:"name_asc",children:"Nombre (A-Z)"})]}),(0,r.jsx)(m.ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]})]})}),(0,r.jsxs)("div",{className:"mb-6 text-sm text-muted-foreground",children:["Mostrando ",T.length," de ",P," productos","all"!==v&&(0,r.jsx)("button",{onClick:()=>A("all"),className:"ml-2 text-primary hover:underline",children:"(Ver todos)"})]}),T.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:T.map(e=>(0,r.jsx)(s.ProductCard,{product:e},e.id))}),M>1&&(0,r.jsx)(o,{currentPage:k,totalPages:M,onPageChange:r=>{_(r);let t=new URLSearchParams(a.toString());r>1?t.set("page",r.toString()):t.delete("page");let s=t.toString()?`/?${t.toString()}`:"/";e.push(s,{scroll:!0})}})]}):(0,r.jsxs)("div",{className:"text-center py-16 text-muted-foreground",children:[(0,r.jsx)("p",{className:"text-lg",children:"No se encontraron productos con los filtros seleccionados."}),(0,r.jsx)("button",{onClick:()=>{j(""),A("all")},className:"mt-4 text-primary hover:underline",children:"Ver todos los productos"})]})]})]})}e.s(["default",()=>p],86970)},78174,e=>{e.n(e.i(86970))}]);